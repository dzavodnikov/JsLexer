<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>JsLexer Example</title>
    <script language="javascript" type="text/javascript" src="JsLexer.js"></script>
	<script language="javascript" type="text/javascript">
    var calculator = [ 
        {
            name:       'WS', 
            pattern:    /\s+/
        }, 
        {
            name:       'NUMBER', 
            pattern:    /[0-9]+/
        }, 
        {
            name:       'OPERATION', 
            pattern:    /\+|\-|\*|\/|\=/
        }, 
        {
            name:       'SEPARATOR', 
            pattern:    /\(|\)|;/
        }, 
        {
            name:       'VAR', 
            pattern:    /VAR/i
        }, 
        {
            name:       'NAME', 
            pattern:    /[a-zA-Z_]+[a-zA-Z0-9_]*/i
        }
    ];
    
    function highlight() {
        var editor = document.getElementById('editor');

        var tokens = tokenization(calculator, editor.textContent);

        var result = '';
        for (var i = 0; i < tokens.length; ++i) {
            var token = tokens[i];
            if (token.type != null) {
                switch (token.type.name) {
                case 'WS':
                    result = result + '&nbsp;';
                    break;
                case 'NUMBER':
                    result = result + '<span style="color:green;">'     + token.value + '</span>'
                    break;
                case 'OPERATION':
                    result = result + '<span style="color:#9900CC;">'   + token.value + '</span>'
                    break;
                case 'SEPARATOR':
                    result = result + '<span style="color:#FFCC00;">'   + token.value + '</span>'
                    break;
                case 'VAR':
                    result = result + '<span style="color:blue;">'      + token.value + '</span>'
                    break;
                case 'NAME':
                    result = result + '<span style="color:red;">'       + token.value + '</span>'
                    break;
                }
            } else {
                throw 'Can not parse value "' + token.value + '"!'
            }
        }

        editor.innerHTML = result;
    }
	</script>
</head>
<body onload="highlight()" style="font-size:20pt;">

Calculator highlight: 
<code id="editor" spellcheck="false">
var A  =   1    +     22      *       (300        +         450);
</code>

</body>
</html>
